import{S as xd,i as Vd,s as qd,k as l,q as t,a as A,l as r,m as n,r as s,h as a,c as k,n as i,F as Dd,b as d,D as e,B as gc}from"./index-57d6417f.js";function zd(Ud){let P,Fa,M,Ga,Oa,sa,H,K,Sc,aa,Z,Ba,la,J,Q,wc,ra,w,Ma,Ms,Wa,Da,Ws,Ua,xa,Ds,Va,qa,na,W,$,ee,v,za,te,Ya,Xa,se,Ha,Ka,ae,Za,Ja,le,Qa,$a,re,el,tl,ne,sl,al,oe,ll,rl,ie,nl,ol,ce,il,cl,pe,pl,hl,he,dl,ul,de,fl,yl,ue,vl,_l,fe,bl,Cl,ye,El,ml,ve,Al,kl,_e,gl,Sl,be,wl,Ll,Ce,Nl,Pl,oa,N,Us,jl,Rl,xs,Il,Tl,Vs,Fl,Gl,ia,Ee,Ol,ca,me,Bl,pa,T,Ml,qs,Wl,Dl,ha,Ae,Ul,da,D,ke,ge,c,xl,Se,Vl,ql,we,zl,Yl,Le,Xl,Hl,Ne,Kl,Zl,Pe,Jl,Ql,je,$l,er,Re,tr,sr,Ie,ar,lr,Te,rr,nr,Fe,or,ir,Ge,cr,pr,Oe,hr,dr,Be,ur,fr,Me,yr,vr,We,_r,br,De,Cr,Er,Ue,mr,Ar,xe,kr,gr,Ve,Sr,wr,qe,Lr,Nr,ze,Pr,jr,Ye,Rr,Ir,Xe,Tr,Fr,He,Gr,Or,Ke,Br,Mr,Ze,Wr,Dr,Je,Ur,xr,Qe,Vr,qr,$e,zr,Yr,et,Xr,Hr,ua,tt,Kr,fa,j,Zr,zs,Jr,Qr,Ys,$r,en,ya,L,tn,Xs,sn,an,Hs,ln,rn,Ks,nn,on,va,st,cn,_a,U,at,lt,C,pn,rt,hn,dn,nt,un,fn,ot,yn,vn,it,_n,bn,ct,Cn,En,pt,mn,An,ht,kn,gn,dt,Sn,wn,ut,Ln,Nn,ft,Pn,jn,yt,Rn,In,vt,Tn,Fn,_t,Gn,On,bt,Bn,Mn,Ct,Wn,Dn,Et,Un,xn,ba,mt,Vn,Ca,At,qn,Ea,x,kt,gt,m,zn,St,Yn,Xn,wt,Hn,Kn,Lt,Zn,Jn,Nt,Qn,$n,Pt,eo,to,jt,so,ao,Rt,lo,ro,It,no,oo,Tt,io,co,Ft,po,ho,Gt,uo,fo,Ot,yo,vo,ma,Bt,_o,Aa,Mt,bo,ka,Wt,Co,ga,F,Eo,Zs,mo,Ao,Sa,V,Dt,Ut,u,ko,xt,go,So,Vt,wo,Lo,qt,No,Po,zt,jo,Ro,Yt,Io,To,Xt,Fo,Go,Ht,Oo,Bo,Kt,Mo,Wo,Zt,Do,Uo,Jt,xo,Vo,Qt,qo,zo,$t,Yo,Xo,es,Ho,Ko,ts,Zo,Jo,ss,Qo,$o,as,ei,ti,ls,si,ai,rs,li,ri,ns,ni,oi,os,ii,ci,is,pi,hi,cs,di,ui,ps,fi,yi,hs,vi,_i,ds,bi,Ci,wa,G,Ei,Js,mi,Ai,La,q,us,fs,y,ki,ys,gi,Si,vs,wi,Li,_s,Ni,Pi,bs,ji,Ri,Cs,Ii,Ti,Es,Fi,Gi,ms,Oi,Bi,As,Mi,Wi,ks,Di,Ui,gs,xi,Vi,Ss,qi,zi,ws,Yi,Xi,Ls,Hi,Ki,Ns,Zi,Ji,Ps,Qi,$i,js,ec,tc,Rs,sc,ac,Is,lc,rc,Ts,nc,oc,Fs,ic,cc,Na,S,Qs,pc,hc,$s,dc,uc,ea,fc,yc,ta,vc,_c,Pa,Gs,bc,ja,R,Cc,z,Ec,mc,Y,Ac,kc;return{c(){P=l("p"),Fa=t("I wanted to get into Core Animation a bit over the weekend and decided to write a simple digital clock. With the help from "),M=l("a"),Ga=t("Richard"),Oa=t(" I set out to hack it up and figured it might be useful for others just starting out with Core Animation."),sa=A(),H=l("p"),K=l("img"),aa=A(),Z=l("p"),Ba=t("After creating a normal Cocoa Application and setting up a custom view in Interface Builder it’s time to setup the layers that will make up the final interface. Make sure that you set the custom view to your class so that it is actually used:"),la=A(),J=l("p"),Q=l("img"),ra=A(),w=l("p"),Ma=t("Layers in Core Animation are built up as a tree where the layer you set to your view with "),Ms=l("code"),Wa=t("setLayer:"),Da=t(" is the root layer. All other layers are added as sublayers to the root layer or another layer with "),Ws=l("code"),Ua=t("addSublayer:"),xa=t(". In the code snippets below "),Ds=l("code"),Va=t("backgroundLayer"),qa=t(" is my root layer."),na=A(),W=l("div"),$=l("div"),ee=l("pre"),v=l("code"),za=t("- ("),te=l("span"),Ya=t("CALayer"),Xa=t(` *)setupLayers
{
    backgroundLayer = [`),se=l("span"),Ha=t("self"),Ka=t(` setupBackgroundLayer];

    [backgroundLayer addSublayer:[`),ae=l("span"),Za=t("self"),Ja=t(` setupClockFaceLayer]];
    [backgroundLayer addSublayer:[`),le=l("span"),Qa=t("self"),$a=t(` setupBorderLayer]];
    [backgroundLayer addSublayer:[`),re=l("span"),el=t("self"),tl=t(` setupGlossLayer]];

    `),ne=l("span"),sl=t("return"),al=t(` backgroundLayer;
}

- (`),oe=l("span"),ll=t("id"),rl=t(")initWithFrame:("),ie=l("span"),nl=t("NSRect"),ol=t(`)frame
{
    `),ce=l("span"),il=t("self"),cl=t(" = ["),pe=l("span"),pl=t("super"),hl=t(` initWithFrame:frame];
    `),he=l("span"),dl=t("if"),ul=t(" ("),de=l("span"),fl=t("self"),yl=t(`) {
        clockTimer = [[ClockTimer alloc] init];

        [`),ue=l("span"),vl=t("self"),_l=t(" setLayer:["),fe=l("span"),bl=t("self"),Cl=t(` setupLayers]];
    }
    `),ye=l("span"),El=t("return"),ml=t(" "),ve=l("span"),Al=t("self"),kl=t(`;
}

- (`),_e=l("span"),gl=t("void"),Sl=t(`)awakeFromNib
{
    [`),be=l("span"),wl=t("self"),Ll=t(" setWantsLayer:"),Ce=l("span"),Nl=t("YES"),Pl=t(`];
}`),oa=A(),N=l("p"),Us=l("code"),jl=t("ClockTimer"),Rl=t(" is a simple class that updates the string displaying the time once a second. This string is available through the property "),xs=l("code"),Il=t("outputString"),Tl=t(" on the "),Vs=l("code"),Fl=t("ClockTimer"),Gl=t(" object."),ia=A(),Ee=l("p"),Ol=t("As you can see the clock is built up from four different layers: The background layer, a clock face layer, a border layer and finally a gloss layer adding the nice shine."),ca=A(),me=l("h2"),Bl=t("The Background Layer:"),pa=A(),T=l("p"),Ml=t("The background layer is created as a "),qs=l("code"),Wl=t("CAGradientLayer"),Dl=t(" to give the clock background the nice blue gradient. This layer type was added in 10.6 so it won’t work on earlier versions of Mac OS X but should be fairly straight forward to do manually."),ha=A(),Ae=l("p"),Ul=t("In order to help with positioning of layers Core Animation comes with the notion of Layout Managers which can be added to a layer in order to layout its sublayers. The CAConstraintLayoutManager lets us set constraints on the layers sublayers in order to control how they are positioned. In this case the constraints will be set on the clock face to make it centered on the background."),da=A(),D=l("div"),ke=l("div"),ge=l("pre"),c=l("code"),xl=t("- ("),Se=l("span"),Vl=t("CALayer"),ql=t(` *)setupBackgroundLayer
{
    backgroundLayer = [`),we=l("span"),zl=t("CAGradientLayer"),Yl=t(` layer];

    `),Le=l("span"),Xl=t("CGColorRef"),Hl=t(" gradientColor1 = "),Ne=l("span"),Kl=t("CGColorCreateGenericRGB"),Zl=t("("),Pe=l("span"),Jl=t("13.0"),Ql=t("f / "),je=l("span"),$l=t("255.0"),er=t(", "),Re=l("span"),tr=t("116.0"),sr=t("f / "),Ie=l("span"),ar=t("255.0"),lr=t(", "),Te=l("span"),rr=t("1.0"),nr=t(", "),Fe=l("span"),or=t("1.0"),ir=t(`f);
    `),Ge=l("span"),cr=t("CGColorRef"),pr=t(" gradientColor2 = "),Oe=l("span"),hr=t("CGColorCreateGenericRGB"),dr=t("("),Be=l("span"),ur=t("0.0"),fr=t("f, "),Me=l("span"),yr=t("53.0"),vr=t("f/"),We=l("span"),_r=t("255.0"),br=t("f, "),De=l("span"),Cr=t("126.0"),Er=t("f/"),Ue=l("span"),mr=t("255.0"),Ar=t("f, "),xe=l("span"),kr=t("1.0"),gr=t(`f);

    `),Ve=l("span"),Sr=t("NSArray"),wr=t(" *colors = ["),qe=l("span"),Lr=t("NSArray"),Nr=t(" arrayWithObjects:("),ze=l("span"),Pr=t("id"),jr=t(")gradientColor1, ("),Ye=l("span"),Rr=t("id"),Ir=t(")gradientColor2, "),Xe=l("span"),Tr=t("nil"),Fr=t(`];

    `),He=l("span"),Gr=t("CFRelease"),Or=t(`(gradientColor1);
    `),Ke=l("span"),Br=t("CFRelease"),Mr=t(`(gradientColor2);

    [(`),Ze=l("span"),Wr=t("CAGradientLayer"),Dr=t(` *)backgroundLayer setColors:colors];
    [backgroundLayer setCornerRadius:`),Je=l("span"),Ur=t("12.0"),xr=t(`f];

    `),Qe=l("span"),Vr=t("CAConstraintLayoutManager"),qr=t(" *layout = ["),$e=l("span"),zr=t("CAConstraintLayoutManager"),Yr=t(` layoutManager];
    [backgroundLayer setLayoutManager:layout];

    `),et=l("span"),Xr=t("return"),Hr=t(` backgroundLayer;
}`),ua=A(),tt=l("h2"),Kr=t("The ClockFace Layer:"),fa=A(),j=l("p"),Zr=t("Core Animation comes with several layer types to help us with various tasks. One of these is the "),zs=l("code"),Jr=t("CATextLayer"),Qr=t(" which like the name suggests, make it really easy to output text. It also makes it really easy to customize how the text is displayed by setting font and font size. Using the normal shadow properties from "),Ys=l("code"),$r=t("CALayer"),en=t(" you can add a nice drop shadow on the text."),ya=A(),L=l("p"),tn=t("Using Cocoa bindings I connect the text layers "),Xs=l("code"),sn=t("string"),an=t(" property with the "),Hs=l("code"),ln=t("outputString"),rn=t(" on my "),Ks=l("code"),nn=t("ClockTimer"),on=t(". This way the layer will automatically redraw itself everytime the timer updates the output string."),va=A(),st=l("p"),cn=t("This is also where we setup the constraints mentioned above to make sure that the text is centered in relation to its super layer (in this case the background)."),_a=A(),U=l("div"),at=l("div"),lt=l("pre"),C=l("code"),pn=t("- ("),rt=l("span"),hn=t("CALayer"),dn=t(` *)setupClockFaceLayer {
    `),nt=l("span"),un=t("CATextLayer"),fn=t(" *clockFaceLayer = ["),ot=l("span"),yn=t("CATextLayer"),vn=t(` layer];
    [clockFaceLayer bind:`),it=l("span"),_n=t('@"string"'),bn=t(" toObject:clockTimer withKeyPath:"),ct=l("span"),Cn=t('@"outputString"'),En=t(" options:"),pt=l("span"),mn=t("nil"),An=t(`];
    [clockFaceLayer setFont:`),ht=l("span"),kn=t('@"Menlo"'),gn=t(`];
    [clockFaceLayer setFontSize:`),dt=l("span"),Sn=t("60.0"),wn=t(`f];
    [clockFaceLayer setShadowOpacity:`),ut=l("span"),Ln=t(".9"),Nn=t(`f];

    `),ft=l("span"),Pn=t("// Constrain the text layer in the middle"),jn=t(`
    `),yt=l("span"),Rn=t("CAConstraint"),In=t(" *constraint = ["),vt=l("span"),Tn=t("CAConstraint"),Fn=t(` constraintWithAttribute:kCAConstraintMidX
                                                          relativeTo:`),_t=l("span"),Gn=t('@"superlayer"'),On=t(`
                                                           attribute:kCAConstraintMidX];
    [clockFaceLayer addConstraint:constraint];

    constraint = [`),bt=l("span"),Bn=t("CAConstraint"),Mn=t(` constraintWithAttribute:kCAConstraintMidY
                                            relativeTo:`),Ct=l("span"),Wn=t('@"superlayer"'),Dn=t(`
                                             attribute:kCAConstraintMidY];
    [clockFaceLayer addConstraint:constraint];

    `),Et=l("span"),Un=t("return"),xn=t(` clockFaceLayer;
}`),ba=A(),mt=l("h2"),Vn=t("The Border Layer:"),Ca=A(),At=l("p"),qn=t("There are likely other ways of doing this but by using a separate layer I can use built in functionality to draw a border around a layer. I make the layer slightly smaller than the background layer, set its corner radius to the same value used for the background and simply set it to draw its border with a white color."),Ea=A(),x=l("div"),kt=l("div"),gt=l("pre"),m=l("code"),zn=t("- ("),St=l("span"),Yn=t("CALayer"),Xn=t(` *)setupBorderLayer
{
    `),wt=l("span"),Hn=t("CALayer"),Kn=t(" *borderLayer = ["),Lt=l("span"),Zn=t("CALayer"),Jn=t(` layer];
    `),Nt=l("span"),Qn=t("CGRect"),$n=t(" borderRect = "),Pt=l("span"),eo=t("CGRectInset"),to=t("(["),jt=l("span"),so=t("self"),ao=t(" frame], "),Rt=l("span"),lo=t("8.0"),ro=t("f, "),It=l("span"),no=t("8.0"),oo=t(`f);
    [borderLayer setCornerRadius:`),Tt=l("span"),io=t("12.0"),co=t(`f];
    [borderLayer setBorderColor:`),Ft=l("span"),po=t("CGColorGetConstantColor"),ho=t(`(kCGColorWhite)];
    [borderLayer setBorderWidth:`),Gt=l("span"),uo=t("2.0"),fo=t(`f];
    [borderLayer setFrame:borderRect];

    `),Ot=l("span"),yo=t("return"),vo=t(` borderLayer;
}`),ma=A(),Bt=l("p"),_o=t("Notice that I do not have to set any constraints here as I create the layer frame from simply shrinking the frame size on all sides which ensures it will be set in the middle already."),Aa=A(),Mt=l("h2"),bo=t("The Gloss Layer:"),ka=A(),Wt=l("p"),Co=t("As a final touch I wanted to add the shine to give the clock a glossy look. The simplest way I could figure out to do this was to create a transparent image in Photoshop and setup the layer to draw it. Optimally it should be generated in code or at least use a scalable image to make the clock resizable without loosing any quality in the gloss layer."),ga=A(),F=l("p"),Eo=t("Even if we set the same corner radius as the background layer the layer will happily draw the image outside of this unless we call "),Zs=l("code"),mo=t("setMasksToBounds"),Ao=t(" to ensure that it doesn’t draw the image outside of the rounded corners."),Sa=A(),V=l("div"),Dt=l("div"),Ut=l("pre"),u=l("code"),ko=t("- ("),xt=l("span"),go=t("CALayer"),So=t(` *)setupGlossLayer
{
    `),Vt=l("span"),wo=t("CALayer"),Lo=t(" *glossLayer = ["),qt=l("span"),No=t("CALayer"),Po=t(` layer];
    `),zt=l("span"),jo=t("NSString"),Ro=t(" *filePath = [["),Yt=l("span"),Io=t("NSBundle"),To=t(" mainBundle] pathForResource:"),Xt=l("span"),Fo=t('@"clock-gloss"'),Go=t(" ofType:"),Ht=l("span"),Oo=t('@"png"'),Bo=t(`];
    `),Kt=l("span"),Mo=t("NSURL"),Wo=t(" *fileURL = ["),Zt=l("span"),Do=t("NSURL"),Uo=t(` fileURLWithPath:filePath];

    `),Jt=l("span"),xo=t("CGImageSourceRef"),Vo=t(" glossySource = "),Qt=l("span"),qo=t("CGImageSourceCreateWithURL"),zo=t("(("),$t=l("span"),Yo=t("CFURLRef"),Xo=t(")fileURL, "),es=l("span"),Ho=t("NULL"),Ko=t(`);
    `),ts=l("span"),Zo=t("CGImageRef"),Jo=t(" glossyImage = "),ss=l("span"),Qo=t("CGImageSourceCreateImageAtIndex"),$o=t("(glossySource, "),as=l("span"),ei=t("0"),ti=t(", "),ls=l("span"),si=t("NULL"),ai=t(`);
    `),rs=l("span"),li=t("CFRelease"),ri=t(`(glossySource);
    [glossLayer setContents:(`),ns=l("span"),ni=t("id"),oi=t(`)glossyImage];
    `),os=l("span"),ii=t("CFRelease"),ci=t(`(glossyImage);

    [glossLayer setOpacity:`),is=l("span"),pi=t("0.8"),hi=t(`f];
    [glossLayer setCornerRadius:`),cs=l("span"),di=t("12.0"),ui=t(`f];
    [glossLayer setMasksToBounds:`),ps=l("span"),fi=t("YES"),yi=t(`];
    [glossLayer setFrame:[`),hs=l("span"),vi=t("self"),_i=t(` frame]];

    `),ds=l("span"),bi=t("return"),Ci=t(` glossLayer;
}`),wa=A(),G=l("p"),Ei=t("Finally I subclassed "),Js=l("code"),mi=t("NSWindow"),Ai=t(" in order to turn off the window decoration and shape the window as the background layer."),La=A(),q=l("div"),us=l("div"),fs=l("pre"),y=l("code"),ki=t("- ("),ys=l("span"),gi=t("id"),Si=t(")initWithContentRect:("),vs=l("span"),wi=t("NSRect"),Li=t(`)contentRect
                styleMask:(`),_s=l("span"),Ni=t("NSUInteger"),Pi=t(`)aStyle
                  backing:(`),bs=l("span"),ji=t("NSBackingStoreType"),Ri=t(`)bufferingType
                    defer:(`),Cs=l("span"),Ii=t("BOOL"),Ti=t(`)flag
{
    `),Es=l("span"),Fi=t("self"),Gi=t(" = ["),ms=l("span"),Oi=t("super"),Bi=t(` initWithContentRect:contentRect
                            styleMask:`),As=l("span"),Mi=t("NSBorderlessWindowMask"),Wi=t(`
                              backing:bufferingType
                                defer:flag];
    `),ks=l("span"),Di=t("if"),Ui=t(" ("),gs=l("span"),xi=t("self"),Vi=t(`) {
        [`),Ss=l("span"),qi=t("self"),zi=t(" setOpaque:"),ws=l("span"),Yi=t("NO"),Xi=t(`];
        [`),Ls=l("span"),Hi=t("self"),Ki=t(" setBackgroundColor:["),Ns=l("span"),Zi=t("NSColor"),Ji=t(` clearColor]];
        [`),Ps=l("span"),Qi=t("self"),$i=t(" setMovableByWindowBackground:"),js=l("span"),ec=t("YES"),tc=t(`];
        [`),Rs=l("span"),sc=t("self"),ac=t(" setLevel:"),Is=l("span"),lc=t("NSPopUpMenuWindowLevel"),rc=t(`];
    }

    `),Ts=l("span"),nc=t("return"),oc=t(" "),Fs=l("span"),ic=t("self"),cc=t(`;
}`),Na=A(),S=l("p"),Qs=l("code"),pc=t("NSBorderlessWindowMask"),hc=t(" makes the window draw without the border and "),$s=l("code"),dc=t("setOpaque"),uc=t(" together with setting the background color to "),ea=l("code"),fc=t("[NSColor clearColor]"),yc=t(". Using the "),ta=l("code"),vc=t("NSPopUpMenuWindowLevel"),_c=t(" ensures that the clock is always on top of other windows."),Pa=A(),Gs=l("p"),bc=t("I hope you find this helpful and please make sure to subscribe to my feed if you did. I’ll do my best to answer any questions you might have in the comment section below."),ja=A(),R=l("p"),Cc=t("The full source as an Xcode project can be browsed at: "),z=l("a"),Ec=t("Github"),mc=t(" or "),Y=l("a"),Ac=t("downloaded"),kc=t("."),this.h()},l(o){P=r(o,"P",{});var p=n(P);Fa=s(p,"I wanted to get into Core Animation a bit over the weekend and decided to write a simple digital clock. With the help from "),M=r(p,"A",{href:!0,rel:!0});var Lc=n(M);Ga=s(Lc,"Richard"),Lc.forEach(a),Oa=s(p," I set out to hack it up and figured it might be useful for others just starting out with Core Animation."),p.forEach(a),sa=k(o),H=r(o,"P",{});var Nc=n(H);K=r(Nc,"IMG",{src:!0,alt:!0}),Nc.forEach(a),aa=k(o),Z=r(o,"P",{});var Pc=n(Z);Ba=s(Pc,"After creating a normal Cocoa Application and setting up a custom view in Interface Builder it’s time to setup the layers that will make up the final interface. Make sure that you set the custom view to your class so that it is actually used:"),Pc.forEach(a),la=k(o),J=r(o,"P",{});var jc=n(J);Q=r(jc,"IMG",{src:!0,alt:!0}),jc.forEach(a),ra=k(o),w=r(o,"P",{});var O=n(w);Ma=s(O,"Layers in Core Animation are built up as a tree where the layer you set to your view with "),Ms=r(O,"CODE",{});var Rc=n(Ms);Wa=s(Rc,"setLayer:"),Rc.forEach(a),Da=s(O," is the root layer. All other layers are added as sublayers to the root layer or another layer with "),Ws=r(O,"CODE",{});var Ic=n(Ws);Ua=s(Ic,"addSublayer:"),Ic.forEach(a),xa=s(O,". In the code snippets below "),Ds=r(O,"CODE",{});var Tc=n(Ds);Va=s(Tc,"backgroundLayer"),Tc.forEach(a),qa=s(O," is my root layer."),O.forEach(a),na=k(o),W=r(o,"DIV",{class:!0});var Fc=n(W);$=r(Fc,"DIV",{class:!0});var Gc=n($);ee=r(Gc,"PRE",{class:!0});var Oc=n(ee);v=r(Oc,"CODE",{});var b=n(v);za=s(b,"- ("),te=r(b,"SPAN",{class:!0});var Bc=n(te);Ya=s(Bc,"CALayer"),Bc.forEach(a),Xa=s(b,` *)setupLayers
{
    backgroundLayer = [`),se=r(b,"SPAN",{class:!0});var Mc=n(se);Ha=s(Mc,"self"),Mc.forEach(a),Ka=s(b,` setupBackgroundLayer];

    [backgroundLayer addSublayer:[`),ae=r(b,"SPAN",{class:!0});var Wc=n(ae);Za=s(Wc,"self"),Wc.forEach(a),Ja=s(b,` setupClockFaceLayer]];
    [backgroundLayer addSublayer:[`),le=r(b,"SPAN",{class:!0});var Dc=n(le);Qa=s(Dc,"self"),Dc.forEach(a),$a=s(b,` setupBorderLayer]];
    [backgroundLayer addSublayer:[`),re=r(b,"SPAN",{class:!0});var Uc=n(re);el=s(Uc,"self"),Uc.forEach(a),tl=s(b,` setupGlossLayer]];

    `),ne=r(b,"SPAN",{class:!0});var xc=n(ne);sl=s(xc,"return"),xc.forEach(a),al=s(b,` backgroundLayer;
}

- (`),oe=r(b,"SPAN",{class:!0});var Vc=n(oe);ll=s(Vc,"id"),Vc.forEach(a),rl=s(b,")initWithFrame:("),ie=r(b,"SPAN",{class:!0});var qc=n(ie);nl=s(qc,"NSRect"),qc.forEach(a),ol=s(b,`)frame
{
    `),ce=r(b,"SPAN",{class:!0});var zc=n(ce);il=s(zc,"self"),zc.forEach(a),cl=s(b," = ["),pe=r(b,"SPAN",{class:!0});var Yc=n(pe);pl=s(Yc,"super"),Yc.forEach(a),hl=s(b,` initWithFrame:frame];
    `),he=r(b,"SPAN",{class:!0});var Xc=n(he);dl=s(Xc,"if"),Xc.forEach(a),ul=s(b," ("),de=r(b,"SPAN",{class:!0});var Hc=n(de);fl=s(Hc,"self"),Hc.forEach(a),yl=s(b,`) {
        clockTimer = [[ClockTimer alloc] init];

        [`),ue=r(b,"SPAN",{class:!0});var Kc=n(ue);vl=s(Kc,"self"),Kc.forEach(a),_l=s(b," setLayer:["),fe=r(b,"SPAN",{class:!0});var Zc=n(fe);bl=s(Zc,"self"),Zc.forEach(a),Cl=s(b,` setupLayers]];
    }
    `),ye=r(b,"SPAN",{class:!0});var Jc=n(ye);El=s(Jc,"return"),Jc.forEach(a),ml=s(b," "),ve=r(b,"SPAN",{class:!0});var Qc=n(ve);Al=s(Qc,"self"),Qc.forEach(a),kl=s(b,`;
}

- (`),_e=r(b,"SPAN",{class:!0});var $c=n(_e);gl=s($c,"void"),$c.forEach(a),Sl=s(b,`)awakeFromNib
{
    [`),be=r(b,"SPAN",{class:!0});var ep=n(be);wl=s(ep,"self"),ep.forEach(a),Ll=s(b," setWantsLayer:"),Ce=r(b,"SPAN",{class:!0});var tp=n(Ce);Nl=s(tp,"YES"),tp.forEach(a),Pl=s(b,`];
}`),b.forEach(a),Oc.forEach(a),Gc.forEach(a),Fc.forEach(a),oa=k(o),N=r(o,"P",{});var X=n(N);Us=r(X,"CODE",{});var sp=n(Us);jl=s(sp,"ClockTimer"),sp.forEach(a),Rl=s(X," is a simple class that updates the string displaying the time once a second. This string is available through the property "),xs=r(X,"CODE",{});var ap=n(xs);Il=s(ap,"outputString"),ap.forEach(a),Tl=s(X," on the "),Vs=r(X,"CODE",{});var lp=n(Vs);Fl=s(lp,"ClockTimer"),lp.forEach(a),Gl=s(X," object."),X.forEach(a),ia=k(o),Ee=r(o,"P",{});var rp=n(Ee);Ol=s(rp,"As you can see the clock is built up from four different layers: The background layer, a clock face layer, a border layer and finally a gloss layer adding the nice shine."),rp.forEach(a),ca=k(o),me=r(o,"H2",{});var np=n(me);Bl=s(np,"The Background Layer:"),np.forEach(a),pa=k(o),T=r(o,"P",{});var Ra=n(T);Ml=s(Ra,"The background layer is created as a "),qs=r(Ra,"CODE",{});var op=n(qs);Wl=s(op,"CAGradientLayer"),op.forEach(a),Dl=s(Ra," to give the clock background the nice blue gradient. This layer type was added in 10.6 so it won’t work on earlier versions of Mac OS X but should be fairly straight forward to do manually."),Ra.forEach(a),ha=k(o),Ae=r(o,"P",{});var ip=n(Ae);Ul=s(ip,"In order to help with positioning of layers Core Animation comes with the notion of Layout Managers which can be added to a layer in order to layout its sublayers. The CAConstraintLayoutManager lets us set constraints on the layers sublayers in order to control how they are positioned. In this case the constraints will be set on the clock face to make it centered on the background."),ip.forEach(a),da=k(o),D=r(o,"DIV",{class:!0});var cp=n(D);ke=r(cp,"DIV",{class:!0});var pp=n(ke);ge=r(pp,"PRE",{class:!0});var hp=n(ge);c=r(hp,"CODE",{});var h=n(c);xl=s(h,"- ("),Se=r(h,"SPAN",{class:!0});var dp=n(Se);Vl=s(dp,"CALayer"),dp.forEach(a),ql=s(h,` *)setupBackgroundLayer
{
    backgroundLayer = [`),we=r(h,"SPAN",{class:!0});var up=n(we);zl=s(up,"CAGradientLayer"),up.forEach(a),Yl=s(h,` layer];

    `),Le=r(h,"SPAN",{class:!0});var fp=n(Le);Xl=s(fp,"CGColorRef"),fp.forEach(a),Hl=s(h," gradientColor1 = "),Ne=r(h,"SPAN",{class:!0});var yp=n(Ne);Kl=s(yp,"CGColorCreateGenericRGB"),yp.forEach(a),Zl=s(h,"("),Pe=r(h,"SPAN",{class:!0});var vp=n(Pe);Jl=s(vp,"13.0"),vp.forEach(a),Ql=s(h,"f / "),je=r(h,"SPAN",{class:!0});var _p=n(je);$l=s(_p,"255.0"),_p.forEach(a),er=s(h,", "),Re=r(h,"SPAN",{class:!0});var bp=n(Re);tr=s(bp,"116.0"),bp.forEach(a),sr=s(h,"f / "),Ie=r(h,"SPAN",{class:!0});var Cp=n(Ie);ar=s(Cp,"255.0"),Cp.forEach(a),lr=s(h,", "),Te=r(h,"SPAN",{class:!0});var Ep=n(Te);rr=s(Ep,"1.0"),Ep.forEach(a),nr=s(h,", "),Fe=r(h,"SPAN",{class:!0});var mp=n(Fe);or=s(mp,"1.0"),mp.forEach(a),ir=s(h,`f);
    `),Ge=r(h,"SPAN",{class:!0});var Ap=n(Ge);cr=s(Ap,"CGColorRef"),Ap.forEach(a),pr=s(h," gradientColor2 = "),Oe=r(h,"SPAN",{class:!0});var kp=n(Oe);hr=s(kp,"CGColorCreateGenericRGB"),kp.forEach(a),dr=s(h,"("),Be=r(h,"SPAN",{class:!0});var gp=n(Be);ur=s(gp,"0.0"),gp.forEach(a),fr=s(h,"f, "),Me=r(h,"SPAN",{class:!0});var Sp=n(Me);yr=s(Sp,"53.0"),Sp.forEach(a),vr=s(h,"f/"),We=r(h,"SPAN",{class:!0});var wp=n(We);_r=s(wp,"255.0"),wp.forEach(a),br=s(h,"f, "),De=r(h,"SPAN",{class:!0});var Lp=n(De);Cr=s(Lp,"126.0"),Lp.forEach(a),Er=s(h,"f/"),Ue=r(h,"SPAN",{class:!0});var Np=n(Ue);mr=s(Np,"255.0"),Np.forEach(a),Ar=s(h,"f, "),xe=r(h,"SPAN",{class:!0});var Pp=n(xe);kr=s(Pp,"1.0"),Pp.forEach(a),gr=s(h,`f);

    `),Ve=r(h,"SPAN",{class:!0});var jp=n(Ve);Sr=s(jp,"NSArray"),jp.forEach(a),wr=s(h," *colors = ["),qe=r(h,"SPAN",{class:!0});var Rp=n(qe);Lr=s(Rp,"NSArray"),Rp.forEach(a),Nr=s(h," arrayWithObjects:("),ze=r(h,"SPAN",{class:!0});var Ip=n(ze);Pr=s(Ip,"id"),Ip.forEach(a),jr=s(h,")gradientColor1, ("),Ye=r(h,"SPAN",{class:!0});var Tp=n(Ye);Rr=s(Tp,"id"),Tp.forEach(a),Ir=s(h,")gradientColor2, "),Xe=r(h,"SPAN",{class:!0});var Fp=n(Xe);Tr=s(Fp,"nil"),Fp.forEach(a),Fr=s(h,`];

    `),He=r(h,"SPAN",{class:!0});var Gp=n(He);Gr=s(Gp,"CFRelease"),Gp.forEach(a),Or=s(h,`(gradientColor1);
    `),Ke=r(h,"SPAN",{class:!0});var Op=n(Ke);Br=s(Op,"CFRelease"),Op.forEach(a),Mr=s(h,`(gradientColor2);

    [(`),Ze=r(h,"SPAN",{class:!0});var Bp=n(Ze);Wr=s(Bp,"CAGradientLayer"),Bp.forEach(a),Dr=s(h,` *)backgroundLayer setColors:colors];
    [backgroundLayer setCornerRadius:`),Je=r(h,"SPAN",{class:!0});var Mp=n(Je);Ur=s(Mp,"12.0"),Mp.forEach(a),xr=s(h,`f];

    `),Qe=r(h,"SPAN",{class:!0});var Wp=n(Qe);Vr=s(Wp,"CAConstraintLayoutManager"),Wp.forEach(a),qr=s(h," *layout = ["),$e=r(h,"SPAN",{class:!0});var Dp=n($e);zr=s(Dp,"CAConstraintLayoutManager"),Dp.forEach(a),Yr=s(h,` layoutManager];
    [backgroundLayer setLayoutManager:layout];

    `),et=r(h,"SPAN",{class:!0});var Up=n(et);Xr=s(Up,"return"),Up.forEach(a),Hr=s(h,` backgroundLayer;
}`),h.forEach(a),hp.forEach(a),pp.forEach(a),cp.forEach(a),ua=k(o),tt=r(o,"H2",{});var xp=n(tt);Kr=s(xp,"The ClockFace Layer:"),xp.forEach(a),fa=k(o),j=r(o,"P",{});var Os=n(j);Zr=s(Os,"Core Animation comes with several layer types to help us with various tasks. One of these is the "),zs=r(Os,"CODE",{});var Vp=n(zs);Jr=s(Vp,"CATextLayer"),Vp.forEach(a),Qr=s(Os," which like the name suggests, make it really easy to output text. It also makes it really easy to customize how the text is displayed by setting font and font size. Using the normal shadow properties from "),Ys=r(Os,"CODE",{});var qp=n(Ys);$r=s(qp,"CALayer"),qp.forEach(a),en=s(Os," you can add a nice drop shadow on the text."),Os.forEach(a),ya=k(o),L=r(o,"P",{});var B=n(L);tn=s(B,"Using Cocoa bindings I connect the text layers "),Xs=r(B,"CODE",{});var zp=n(Xs);sn=s(zp,"string"),zp.forEach(a),an=s(B," property with the "),Hs=r(B,"CODE",{});var Yp=n(Hs);ln=s(Yp,"outputString"),Yp.forEach(a),rn=s(B," on my "),Ks=r(B,"CODE",{});var Xp=n(Ks);nn=s(Xp,"ClockTimer"),Xp.forEach(a),on=s(B,". This way the layer will automatically redraw itself everytime the timer updates the output string."),B.forEach(a),va=k(o),st=r(o,"P",{});var Hp=n(st);cn=s(Hp,"This is also where we setup the constraints mentioned above to make sure that the text is centered in relation to its super layer (in this case the background)."),Hp.forEach(a),_a=k(o),U=r(o,"DIV",{class:!0});var Kp=n(U);at=r(Kp,"DIV",{class:!0});var Zp=n(at);lt=r(Zp,"PRE",{class:!0});var Jp=n(lt);C=r(Jp,"CODE",{});var E=n(C);pn=s(E,"- ("),rt=r(E,"SPAN",{class:!0});var Qp=n(rt);hn=s(Qp,"CALayer"),Qp.forEach(a),dn=s(E,` *)setupClockFaceLayer {
    `),nt=r(E,"SPAN",{class:!0});var $p=n(nt);un=s($p,"CATextLayer"),$p.forEach(a),fn=s(E," *clockFaceLayer = ["),ot=r(E,"SPAN",{class:!0});var eh=n(ot);yn=s(eh,"CATextLayer"),eh.forEach(a),vn=s(E,` layer];
    [clockFaceLayer bind:`),it=r(E,"SPAN",{class:!0});var th=n(it);_n=s(th,'@"string"'),th.forEach(a),bn=s(E," toObject:clockTimer withKeyPath:"),ct=r(E,"SPAN",{class:!0});var sh=n(ct);Cn=s(sh,'@"outputString"'),sh.forEach(a),En=s(E," options:"),pt=r(E,"SPAN",{class:!0});var ah=n(pt);mn=s(ah,"nil"),ah.forEach(a),An=s(E,`];
    [clockFaceLayer setFont:`),ht=r(E,"SPAN",{class:!0});var lh=n(ht);kn=s(lh,'@"Menlo"'),lh.forEach(a),gn=s(E,`];
    [clockFaceLayer setFontSize:`),dt=r(E,"SPAN",{class:!0});var rh=n(dt);Sn=s(rh,"60.0"),rh.forEach(a),wn=s(E,`f];
    [clockFaceLayer setShadowOpacity:`),ut=r(E,"SPAN",{class:!0});var nh=n(ut);Ln=s(nh,".9"),nh.forEach(a),Nn=s(E,`f];

    `),ft=r(E,"SPAN",{class:!0});var oh=n(ft);Pn=s(oh,"// Constrain the text layer in the middle"),oh.forEach(a),jn=s(E,`
    `),yt=r(E,"SPAN",{class:!0});var ih=n(yt);Rn=s(ih,"CAConstraint"),ih.forEach(a),In=s(E," *constraint = ["),vt=r(E,"SPAN",{class:!0});var ch=n(vt);Tn=s(ch,"CAConstraint"),ch.forEach(a),Fn=s(E,` constraintWithAttribute:kCAConstraintMidX
                                                          relativeTo:`),_t=r(E,"SPAN",{class:!0});var ph=n(_t);Gn=s(ph,'@"superlayer"'),ph.forEach(a),On=s(E,`
                                                           attribute:kCAConstraintMidX];
    [clockFaceLayer addConstraint:constraint];

    constraint = [`),bt=r(E,"SPAN",{class:!0});var hh=n(bt);Bn=s(hh,"CAConstraint"),hh.forEach(a),Mn=s(E,` constraintWithAttribute:kCAConstraintMidY
                                            relativeTo:`),Ct=r(E,"SPAN",{class:!0});var dh=n(Ct);Wn=s(dh,'@"superlayer"'),dh.forEach(a),Dn=s(E,`
                                             attribute:kCAConstraintMidY];
    [clockFaceLayer addConstraint:constraint];

    `),Et=r(E,"SPAN",{class:!0});var uh=n(Et);Un=s(uh,"return"),uh.forEach(a),xn=s(E,` clockFaceLayer;
}`),E.forEach(a),Jp.forEach(a),Zp.forEach(a),Kp.forEach(a),ba=k(o),mt=r(o,"H2",{});var fh=n(mt);Vn=s(fh,"The Border Layer:"),fh.forEach(a),Ca=k(o),At=r(o,"P",{});var yh=n(At);qn=s(yh,"There are likely other ways of doing this but by using a separate layer I can use built in functionality to draw a border around a layer. I make the layer slightly smaller than the background layer, set its corner radius to the same value used for the background and simply set it to draw its border with a white color."),yh.forEach(a),Ea=k(o),x=r(o,"DIV",{class:!0});var vh=n(x);kt=r(vh,"DIV",{class:!0});var _h=n(kt);gt=r(_h,"PRE",{class:!0});var bh=n(gt);m=r(bh,"CODE",{});var g=n(m);zn=s(g,"- ("),St=r(g,"SPAN",{class:!0});var Ch=n(St);Yn=s(Ch,"CALayer"),Ch.forEach(a),Xn=s(g,` *)setupBorderLayer
{
    `),wt=r(g,"SPAN",{class:!0});var Eh=n(wt);Hn=s(Eh,"CALayer"),Eh.forEach(a),Kn=s(g," *borderLayer = ["),Lt=r(g,"SPAN",{class:!0});var mh=n(Lt);Zn=s(mh,"CALayer"),mh.forEach(a),Jn=s(g,` layer];
    `),Nt=r(g,"SPAN",{class:!0});var Ah=n(Nt);Qn=s(Ah,"CGRect"),Ah.forEach(a),$n=s(g," borderRect = "),Pt=r(g,"SPAN",{class:!0});var kh=n(Pt);eo=s(kh,"CGRectInset"),kh.forEach(a),to=s(g,"(["),jt=r(g,"SPAN",{class:!0});var gh=n(jt);so=s(gh,"self"),gh.forEach(a),ao=s(g," frame], "),Rt=r(g,"SPAN",{class:!0});var Sh=n(Rt);lo=s(Sh,"8.0"),Sh.forEach(a),ro=s(g,"f, "),It=r(g,"SPAN",{class:!0});var wh=n(It);no=s(wh,"8.0"),wh.forEach(a),oo=s(g,`f);
    [borderLayer setCornerRadius:`),Tt=r(g,"SPAN",{class:!0});var Lh=n(Tt);io=s(Lh,"12.0"),Lh.forEach(a),co=s(g,`f];
    [borderLayer setBorderColor:`),Ft=r(g,"SPAN",{class:!0});var Nh=n(Ft);po=s(Nh,"CGColorGetConstantColor"),Nh.forEach(a),ho=s(g,`(kCGColorWhite)];
    [borderLayer setBorderWidth:`),Gt=r(g,"SPAN",{class:!0});var Ph=n(Gt);uo=s(Ph,"2.0"),Ph.forEach(a),fo=s(g,`f];
    [borderLayer setFrame:borderRect];

    `),Ot=r(g,"SPAN",{class:!0});var jh=n(Ot);yo=s(jh,"return"),jh.forEach(a),vo=s(g,` borderLayer;
}`),g.forEach(a),bh.forEach(a),_h.forEach(a),vh.forEach(a),ma=k(o),Bt=r(o,"P",{});var Rh=n(Bt);_o=s(Rh,"Notice that I do not have to set any constraints here as I create the layer frame from simply shrinking the frame size on all sides which ensures it will be set in the middle already."),Rh.forEach(a),Aa=k(o),Mt=r(o,"H2",{});var Ih=n(Mt);bo=s(Ih,"The Gloss Layer:"),Ih.forEach(a),ka=k(o),Wt=r(o,"P",{});var Th=n(Wt);Co=s(Th,"As a final touch I wanted to add the shine to give the clock a glossy look. The simplest way I could figure out to do this was to create a transparent image in Photoshop and setup the layer to draw it. Optimally it should be generated in code or at least use a scalable image to make the clock resizable without loosing any quality in the gloss layer."),Th.forEach(a),ga=k(o),F=r(o,"P",{});var Ia=n(F);Eo=s(Ia,"Even if we set the same corner radius as the background layer the layer will happily draw the image outside of this unless we call "),Zs=r(Ia,"CODE",{});var Fh=n(Zs);mo=s(Fh,"setMasksToBounds"),Fh.forEach(a),Ao=s(Ia," to ensure that it doesn’t draw the image outside of the rounded corners."),Ia.forEach(a),Sa=k(o),V=r(o,"DIV",{class:!0});var Gh=n(V);Dt=r(Gh,"DIV",{class:!0});var Oh=n(Dt);Ut=r(Oh,"PRE",{class:!0});var Bh=n(Ut);u=r(Bh,"CODE",{});var f=n(u);ko=s(f,"- ("),xt=r(f,"SPAN",{class:!0});var Mh=n(xt);go=s(Mh,"CALayer"),Mh.forEach(a),So=s(f,` *)setupGlossLayer
{
    `),Vt=r(f,"SPAN",{class:!0});var Wh=n(Vt);wo=s(Wh,"CALayer"),Wh.forEach(a),Lo=s(f," *glossLayer = ["),qt=r(f,"SPAN",{class:!0});var Dh=n(qt);No=s(Dh,"CALayer"),Dh.forEach(a),Po=s(f,` layer];
    `),zt=r(f,"SPAN",{class:!0});var Uh=n(zt);jo=s(Uh,"NSString"),Uh.forEach(a),Ro=s(f," *filePath = [["),Yt=r(f,"SPAN",{class:!0});var xh=n(Yt);Io=s(xh,"NSBundle"),xh.forEach(a),To=s(f," mainBundle] pathForResource:"),Xt=r(f,"SPAN",{class:!0});var Vh=n(Xt);Fo=s(Vh,'@"clock-gloss"'),Vh.forEach(a),Go=s(f," ofType:"),Ht=r(f,"SPAN",{class:!0});var qh=n(Ht);Oo=s(qh,'@"png"'),qh.forEach(a),Bo=s(f,`];
    `),Kt=r(f,"SPAN",{class:!0});var zh=n(Kt);Mo=s(zh,"NSURL"),zh.forEach(a),Wo=s(f," *fileURL = ["),Zt=r(f,"SPAN",{class:!0});var Yh=n(Zt);Do=s(Yh,"NSURL"),Yh.forEach(a),Uo=s(f,` fileURLWithPath:filePath];

    `),Jt=r(f,"SPAN",{class:!0});var Xh=n(Jt);xo=s(Xh,"CGImageSourceRef"),Xh.forEach(a),Vo=s(f," glossySource = "),Qt=r(f,"SPAN",{class:!0});var Hh=n(Qt);qo=s(Hh,"CGImageSourceCreateWithURL"),Hh.forEach(a),zo=s(f,"(("),$t=r(f,"SPAN",{class:!0});var Kh=n($t);Yo=s(Kh,"CFURLRef"),Kh.forEach(a),Xo=s(f,")fileURL, "),es=r(f,"SPAN",{class:!0});var Zh=n(es);Ho=s(Zh,"NULL"),Zh.forEach(a),Ko=s(f,`);
    `),ts=r(f,"SPAN",{class:!0});var Jh=n(ts);Zo=s(Jh,"CGImageRef"),Jh.forEach(a),Jo=s(f," glossyImage = "),ss=r(f,"SPAN",{class:!0});var Qh=n(ss);Qo=s(Qh,"CGImageSourceCreateImageAtIndex"),Qh.forEach(a),$o=s(f,"(glossySource, "),as=r(f,"SPAN",{class:!0});var $h=n(as);ei=s($h,"0"),$h.forEach(a),ti=s(f,", "),ls=r(f,"SPAN",{class:!0});var ed=n(ls);si=s(ed,"NULL"),ed.forEach(a),ai=s(f,`);
    `),rs=r(f,"SPAN",{class:!0});var td=n(rs);li=s(td,"CFRelease"),td.forEach(a),ri=s(f,`(glossySource);
    [glossLayer setContents:(`),ns=r(f,"SPAN",{class:!0});var sd=n(ns);ni=s(sd,"id"),sd.forEach(a),oi=s(f,`)glossyImage];
    `),os=r(f,"SPAN",{class:!0});var ad=n(os);ii=s(ad,"CFRelease"),ad.forEach(a),ci=s(f,`(glossyImage);

    [glossLayer setOpacity:`),is=r(f,"SPAN",{class:!0});var ld=n(is);pi=s(ld,"0.8"),ld.forEach(a),hi=s(f,`f];
    [glossLayer setCornerRadius:`),cs=r(f,"SPAN",{class:!0});var rd=n(cs);di=s(rd,"12.0"),rd.forEach(a),ui=s(f,`f];
    [glossLayer setMasksToBounds:`),ps=r(f,"SPAN",{class:!0});var nd=n(ps);fi=s(nd,"YES"),nd.forEach(a),yi=s(f,`];
    [glossLayer setFrame:[`),hs=r(f,"SPAN",{class:!0});var od=n(hs);vi=s(od,"self"),od.forEach(a),_i=s(f,` frame]];

    `),ds=r(f,"SPAN",{class:!0});var id=n(ds);bi=s(id,"return"),id.forEach(a),Ci=s(f,` glossLayer;
}`),f.forEach(a),Bh.forEach(a),Oh.forEach(a),Gh.forEach(a),wa=k(o),G=r(o,"P",{});var Ta=n(G);Ei=s(Ta,"Finally I subclassed "),Js=r(Ta,"CODE",{});var cd=n(Js);mi=s(cd,"NSWindow"),cd.forEach(a),Ai=s(Ta," in order to turn off the window decoration and shape the window as the background layer."),Ta.forEach(a),La=k(o),q=r(o,"DIV",{class:!0});var pd=n(q);us=r(pd,"DIV",{class:!0});var hd=n(us);fs=r(hd,"PRE",{class:!0});var dd=n(fs);y=r(dd,"CODE",{});var _=n(y);ki=s(_,"- ("),ys=r(_,"SPAN",{class:!0});var ud=n(ys);gi=s(ud,"id"),ud.forEach(a),Si=s(_,")initWithContentRect:("),vs=r(_,"SPAN",{class:!0});var fd=n(vs);wi=s(fd,"NSRect"),fd.forEach(a),Li=s(_,`)contentRect
                styleMask:(`),_s=r(_,"SPAN",{class:!0});var yd=n(_s);Ni=s(yd,"NSUInteger"),yd.forEach(a),Pi=s(_,`)aStyle
                  backing:(`),bs=r(_,"SPAN",{class:!0});var vd=n(bs);ji=s(vd,"NSBackingStoreType"),vd.forEach(a),Ri=s(_,`)bufferingType
                    defer:(`),Cs=r(_,"SPAN",{class:!0});var _d=n(Cs);Ii=s(_d,"BOOL"),_d.forEach(a),Ti=s(_,`)flag
{
    `),Es=r(_,"SPAN",{class:!0});var bd=n(Es);Fi=s(bd,"self"),bd.forEach(a),Gi=s(_," = ["),ms=r(_,"SPAN",{class:!0});var Cd=n(ms);Oi=s(Cd,"super"),Cd.forEach(a),Bi=s(_,` initWithContentRect:contentRect
                            styleMask:`),As=r(_,"SPAN",{class:!0});var Ed=n(As);Mi=s(Ed,"NSBorderlessWindowMask"),Ed.forEach(a),Wi=s(_,`
                              backing:bufferingType
                                defer:flag];
    `),ks=r(_,"SPAN",{class:!0});var md=n(ks);Di=s(md,"if"),md.forEach(a),Ui=s(_," ("),gs=r(_,"SPAN",{class:!0});var Ad=n(gs);xi=s(Ad,"self"),Ad.forEach(a),Vi=s(_,`) {
        [`),Ss=r(_,"SPAN",{class:!0});var kd=n(Ss);qi=s(kd,"self"),kd.forEach(a),zi=s(_," setOpaque:"),ws=r(_,"SPAN",{class:!0});var gd=n(ws);Yi=s(gd,"NO"),gd.forEach(a),Xi=s(_,`];
        [`),Ls=r(_,"SPAN",{class:!0});var Sd=n(Ls);Hi=s(Sd,"self"),Sd.forEach(a),Ki=s(_," setBackgroundColor:["),Ns=r(_,"SPAN",{class:!0});var wd=n(Ns);Zi=s(wd,"NSColor"),wd.forEach(a),Ji=s(_,` clearColor]];
        [`),Ps=r(_,"SPAN",{class:!0});var Ld=n(Ps);Qi=s(Ld,"self"),Ld.forEach(a),$i=s(_," setMovableByWindowBackground:"),js=r(_,"SPAN",{class:!0});var Nd=n(js);ec=s(Nd,"YES"),Nd.forEach(a),tc=s(_,`];
        [`),Rs=r(_,"SPAN",{class:!0});var Pd=n(Rs);sc=s(Pd,"self"),Pd.forEach(a),ac=s(_," setLevel:"),Is=r(_,"SPAN",{class:!0});var jd=n(Is);lc=s(jd,"NSPopUpMenuWindowLevel"),jd.forEach(a),rc=s(_,`];
    }

    `),Ts=r(_,"SPAN",{class:!0});var Rd=n(Ts);nc=s(Rd,"return"),Rd.forEach(a),oc=s(_," "),Fs=r(_,"SPAN",{class:!0});var Id=n(Fs);ic=s(Id,"self"),Id.forEach(a),cc=s(_,`;
}`),_.forEach(a),dd.forEach(a),hd.forEach(a),pd.forEach(a),Na=k(o),S=r(o,"P",{});var I=n(S);Qs=r(I,"CODE",{});var Td=n(Qs);pc=s(Td,"NSBorderlessWindowMask"),Td.forEach(a),hc=s(I," makes the window draw without the border and "),$s=r(I,"CODE",{});var Fd=n($s);dc=s(Fd,"setOpaque"),Fd.forEach(a),uc=s(I," together with setting the background color to "),ea=r(I,"CODE",{});var Gd=n(ea);fc=s(Gd,"[NSColor clearColor]"),Gd.forEach(a),yc=s(I,". Using the "),ta=r(I,"CODE",{});var Od=n(ta);vc=s(Od,"NSPopUpMenuWindowLevel"),Od.forEach(a),_c=s(I," ensures that the clock is always on top of other windows."),I.forEach(a),Pa=k(o),Gs=r(o,"P",{});var Bd=n(Gs);bc=s(Bd,"I hope you find this helpful and please make sure to subscribe to my feed if you did. I’ll do my best to answer any questions you might have in the comment section below."),Bd.forEach(a),ja=k(o),R=r(o,"P",{});var Bs=n(R);Cc=s(Bs,"The full source as an Xcode project can be browsed at: "),z=r(Bs,"A",{href:!0,rel:!0});var Md=n(z);Ec=s(Md,"Github"),Md.forEach(a),mc=s(Bs," or "),Y=r(Bs,"A",{href:!0,rel:!0});var Wd=n(Y);Ac=s(Wd,"downloaded"),Wd.forEach(a),kc=s(Bs,"."),Bs.forEach(a),this.h()},h(){i(M,"href","http://rhult.github.com/"),i(M,"rel","nofollow"),Dd(K.src,Sc="/images/posts/glossy-clock.png")||i(K,"src",Sc),i(K,"alt","Resulting App"),Dd(Q.src,wc="/images/posts/glossy-clock-ib.png")||i(Q,"src",wc),i(Q,"alt","Info panel in Interface Builder"),i(te,"class","hljs-built_in"),i(se,"class","hljs-keyword"),i(ae,"class","hljs-keyword"),i(le,"class","hljs-keyword"),i(re,"class","hljs-keyword"),i(ne,"class","hljs-keyword"),i(oe,"class","hljs-type"),i(ie,"class","hljs-built_in"),i(ce,"class","hljs-keyword"),i(pe,"class","hljs-variable language_"),i(he,"class","hljs-keyword"),i(de,"class","hljs-keyword"),i(ue,"class","hljs-keyword"),i(fe,"class","hljs-keyword"),i(ye,"class","hljs-keyword"),i(ve,"class","hljs-keyword"),i(_e,"class","hljs-type"),i(be,"class","hljs-keyword"),i(Ce,"class","hljs-literal"),i(ee,"class","highlight"),i($,"class","highlight"),i(W,"class","highlighter-rouge language-objc"),i(Se,"class","hljs-built_in"),i(we,"class","hljs-built_in"),i(Le,"class","hljs-built_in"),i(Ne,"class","hljs-built_in"),i(Pe,"class","hljs-number"),i(je,"class","hljs-number"),i(Re,"class","hljs-number"),i(Ie,"class","hljs-number"),i(Te,"class","hljs-number"),i(Fe,"class","hljs-number"),i(Ge,"class","hljs-built_in"),i(Oe,"class","hljs-built_in"),i(Be,"class","hljs-number"),i(Me,"class","hljs-number"),i(We,"class","hljs-number"),i(De,"class","hljs-number"),i(Ue,"class","hljs-number"),i(xe,"class","hljs-number"),i(Ve,"class","hljs-built_in"),i(qe,"class","hljs-built_in"),i(ze,"class","hljs-type"),i(Ye,"class","hljs-type"),i(Xe,"class","hljs-literal"),i(He,"class","hljs-built_in"),i(Ke,"class","hljs-built_in"),i(Ze,"class","hljs-built_in"),i(Je,"class","hljs-number"),i(Qe,"class","hljs-built_in"),i($e,"class","hljs-built_in"),i(et,"class","hljs-keyword"),i(ge,"class","highlight"),i(ke,"class","highlight"),i(D,"class","highlighter-rouge language-objc"),i(rt,"class","hljs-built_in"),i(nt,"class","hljs-built_in"),i(ot,"class","hljs-built_in"),i(it,"class","hljs-string"),i(ct,"class","hljs-string"),i(pt,"class","hljs-literal"),i(ht,"class","hljs-string"),i(dt,"class","hljs-number"),i(ut,"class","hljs-number"),i(ft,"class","hljs-comment"),i(yt,"class","hljs-built_in"),i(vt,"class","hljs-built_in"),i(_t,"class","hljs-string"),i(bt,"class","hljs-built_in"),i(Ct,"class","hljs-string"),i(Et,"class","hljs-keyword"),i(lt,"class","highlight"),i(at,"class","highlight"),i(U,"class","highlighter-rouge language-objc"),i(St,"class","hljs-built_in"),i(wt,"class","hljs-built_in"),i(Lt,"class","hljs-built_in"),i(Nt,"class","hljs-built_in"),i(Pt,"class","hljs-built_in"),i(jt,"class","hljs-keyword"),i(Rt,"class","hljs-number"),i(It,"class","hljs-number"),i(Tt,"class","hljs-number"),i(Ft,"class","hljs-built_in"),i(Gt,"class","hljs-number"),i(Ot,"class","hljs-keyword"),i(gt,"class","highlight"),i(kt,"class","highlight"),i(x,"class","highlighter-rouge language-objc"),i(xt,"class","hljs-built_in"),i(Vt,"class","hljs-built_in"),i(qt,"class","hljs-built_in"),i(zt,"class","hljs-built_in"),i(Yt,"class","hljs-built_in"),i(Xt,"class","hljs-string"),i(Ht,"class","hljs-string"),i(Kt,"class","hljs-built_in"),i(Zt,"class","hljs-built_in"),i(Jt,"class","hljs-built_in"),i(Qt,"class","hljs-built_in"),i($t,"class","hljs-built_in"),i(es,"class","hljs-literal"),i(ts,"class","hljs-built_in"),i(ss,"class","hljs-built_in"),i(as,"class","hljs-number"),i(ls,"class","hljs-literal"),i(rs,"class","hljs-built_in"),i(ns,"class","hljs-type"),i(os,"class","hljs-built_in"),i(is,"class","hljs-number"),i(cs,"class","hljs-number"),i(ps,"class","hljs-literal"),i(hs,"class","hljs-keyword"),i(ds,"class","hljs-keyword"),i(Ut,"class","highlight"),i(Dt,"class","highlight"),i(V,"class","highlighter-rouge language-objc"),i(ys,"class","hljs-type"),i(vs,"class","hljs-built_in"),i(_s,"class","hljs-built_in"),i(bs,"class","hljs-built_in"),i(Cs,"class","hljs-type"),i(Es,"class","hljs-keyword"),i(ms,"class","hljs-variable language_"),i(As,"class","hljs-built_in"),i(ks,"class","hljs-keyword"),i(gs,"class","hljs-keyword"),i(Ss,"class","hljs-keyword"),i(ws,"class","hljs-literal"),i(Ls,"class","hljs-keyword"),i(Ns,"class","hljs-built_in"),i(Ps,"class","hljs-keyword"),i(js,"class","hljs-literal"),i(Rs,"class","hljs-keyword"),i(Is,"class","hljs-built_in"),i(Ts,"class","hljs-keyword"),i(Fs,"class","hljs-keyword"),i(fs,"class","highlight"),i(us,"class","highlight"),i(q,"class","highlighter-rouge language-objc"),i(z,"href","http://github.com/hallski/glossyclock"),i(z,"rel","nofollow"),i(Y,"href","http://github.com/hallski/glossyclock/zipball/master"),i(Y,"rel","nofollow")},m(o,p){d(o,P,p),e(P,Fa),e(P,M),e(M,Ga),e(P,Oa),d(o,sa,p),d(o,H,p),e(H,K),d(o,aa,p),d(o,Z,p),e(Z,Ba),d(o,la,p),d(o,J,p),e(J,Q),d(o,ra,p),d(o,w,p),e(w,Ma),e(w,Ms),e(Ms,Wa),e(w,Da),e(w,Ws),e(Ws,Ua),e(w,xa),e(w,Ds),e(Ds,Va),e(w,qa),d(o,na,p),d(o,W,p),e(W,$),e($,ee),e(ee,v),e(v,za),e(v,te),e(te,Ya),e(v,Xa),e(v,se),e(se,Ha),e(v,Ka),e(v,ae),e(ae,Za),e(v,Ja),e(v,le),e(le,Qa),e(v,$a),e(v,re),e(re,el),e(v,tl),e(v,ne),e(ne,sl),e(v,al),e(v,oe),e(oe,ll),e(v,rl),e(v,ie),e(ie,nl),e(v,ol),e(v,ce),e(ce,il),e(v,cl),e(v,pe),e(pe,pl),e(v,hl),e(v,he),e(he,dl),e(v,ul),e(v,de),e(de,fl),e(v,yl),e(v,ue),e(ue,vl),e(v,_l),e(v,fe),e(fe,bl),e(v,Cl),e(v,ye),e(ye,El),e(v,ml),e(v,ve),e(ve,Al),e(v,kl),e(v,_e),e(_e,gl),e(v,Sl),e(v,be),e(be,wl),e(v,Ll),e(v,Ce),e(Ce,Nl),e(v,Pl),d(o,oa,p),d(o,N,p),e(N,Us),e(Us,jl),e(N,Rl),e(N,xs),e(xs,Il),e(N,Tl),e(N,Vs),e(Vs,Fl),e(N,Gl),d(o,ia,p),d(o,Ee,p),e(Ee,Ol),d(o,ca,p),d(o,me,p),e(me,Bl),d(o,pa,p),d(o,T,p),e(T,Ml),e(T,qs),e(qs,Wl),e(T,Dl),d(o,ha,p),d(o,Ae,p),e(Ae,Ul),d(o,da,p),d(o,D,p),e(D,ke),e(ke,ge),e(ge,c),e(c,xl),e(c,Se),e(Se,Vl),e(c,ql),e(c,we),e(we,zl),e(c,Yl),e(c,Le),e(Le,Xl),e(c,Hl),e(c,Ne),e(Ne,Kl),e(c,Zl),e(c,Pe),e(Pe,Jl),e(c,Ql),e(c,je),e(je,$l),e(c,er),e(c,Re),e(Re,tr),e(c,sr),e(c,Ie),e(Ie,ar),e(c,lr),e(c,Te),e(Te,rr),e(c,nr),e(c,Fe),e(Fe,or),e(c,ir),e(c,Ge),e(Ge,cr),e(c,pr),e(c,Oe),e(Oe,hr),e(c,dr),e(c,Be),e(Be,ur),e(c,fr),e(c,Me),e(Me,yr),e(c,vr),e(c,We),e(We,_r),e(c,br),e(c,De),e(De,Cr),e(c,Er),e(c,Ue),e(Ue,mr),e(c,Ar),e(c,xe),e(xe,kr),e(c,gr),e(c,Ve),e(Ve,Sr),e(c,wr),e(c,qe),e(qe,Lr),e(c,Nr),e(c,ze),e(ze,Pr),e(c,jr),e(c,Ye),e(Ye,Rr),e(c,Ir),e(c,Xe),e(Xe,Tr),e(c,Fr),e(c,He),e(He,Gr),e(c,Or),e(c,Ke),e(Ke,Br),e(c,Mr),e(c,Ze),e(Ze,Wr),e(c,Dr),e(c,Je),e(Je,Ur),e(c,xr),e(c,Qe),e(Qe,Vr),e(c,qr),e(c,$e),e($e,zr),e(c,Yr),e(c,et),e(et,Xr),e(c,Hr),d(o,ua,p),d(o,tt,p),e(tt,Kr),d(o,fa,p),d(o,j,p),e(j,Zr),e(j,zs),e(zs,Jr),e(j,Qr),e(j,Ys),e(Ys,$r),e(j,en),d(o,ya,p),d(o,L,p),e(L,tn),e(L,Xs),e(Xs,sn),e(L,an),e(L,Hs),e(Hs,ln),e(L,rn),e(L,Ks),e(Ks,nn),e(L,on),d(o,va,p),d(o,st,p),e(st,cn),d(o,_a,p),d(o,U,p),e(U,at),e(at,lt),e(lt,C),e(C,pn),e(C,rt),e(rt,hn),e(C,dn),e(C,nt),e(nt,un),e(C,fn),e(C,ot),e(ot,yn),e(C,vn),e(C,it),e(it,_n),e(C,bn),e(C,ct),e(ct,Cn),e(C,En),e(C,pt),e(pt,mn),e(C,An),e(C,ht),e(ht,kn),e(C,gn),e(C,dt),e(dt,Sn),e(C,wn),e(C,ut),e(ut,Ln),e(C,Nn),e(C,ft),e(ft,Pn),e(C,jn),e(C,yt),e(yt,Rn),e(C,In),e(C,vt),e(vt,Tn),e(C,Fn),e(C,_t),e(_t,Gn),e(C,On),e(C,bt),e(bt,Bn),e(C,Mn),e(C,Ct),e(Ct,Wn),e(C,Dn),e(C,Et),e(Et,Un),e(C,xn),d(o,ba,p),d(o,mt,p),e(mt,Vn),d(o,Ca,p),d(o,At,p),e(At,qn),d(o,Ea,p),d(o,x,p),e(x,kt),e(kt,gt),e(gt,m),e(m,zn),e(m,St),e(St,Yn),e(m,Xn),e(m,wt),e(wt,Hn),e(m,Kn),e(m,Lt),e(Lt,Zn),e(m,Jn),e(m,Nt),e(Nt,Qn),e(m,$n),e(m,Pt),e(Pt,eo),e(m,to),e(m,jt),e(jt,so),e(m,ao),e(m,Rt),e(Rt,lo),e(m,ro),e(m,It),e(It,no),e(m,oo),e(m,Tt),e(Tt,io),e(m,co),e(m,Ft),e(Ft,po),e(m,ho),e(m,Gt),e(Gt,uo),e(m,fo),e(m,Ot),e(Ot,yo),e(m,vo),d(o,ma,p),d(o,Bt,p),e(Bt,_o),d(o,Aa,p),d(o,Mt,p),e(Mt,bo),d(o,ka,p),d(o,Wt,p),e(Wt,Co),d(o,ga,p),d(o,F,p),e(F,Eo),e(F,Zs),e(Zs,mo),e(F,Ao),d(o,Sa,p),d(o,V,p),e(V,Dt),e(Dt,Ut),e(Ut,u),e(u,ko),e(u,xt),e(xt,go),e(u,So),e(u,Vt),e(Vt,wo),e(u,Lo),e(u,qt),e(qt,No),e(u,Po),e(u,zt),e(zt,jo),e(u,Ro),e(u,Yt),e(Yt,Io),e(u,To),e(u,Xt),e(Xt,Fo),e(u,Go),e(u,Ht),e(Ht,Oo),e(u,Bo),e(u,Kt),e(Kt,Mo),e(u,Wo),e(u,Zt),e(Zt,Do),e(u,Uo),e(u,Jt),e(Jt,xo),e(u,Vo),e(u,Qt),e(Qt,qo),e(u,zo),e(u,$t),e($t,Yo),e(u,Xo),e(u,es),e(es,Ho),e(u,Ko),e(u,ts),e(ts,Zo),e(u,Jo),e(u,ss),e(ss,Qo),e(u,$o),e(u,as),e(as,ei),e(u,ti),e(u,ls),e(ls,si),e(u,ai),e(u,rs),e(rs,li),e(u,ri),e(u,ns),e(ns,ni),e(u,oi),e(u,os),e(os,ii),e(u,ci),e(u,is),e(is,pi),e(u,hi),e(u,cs),e(cs,di),e(u,ui),e(u,ps),e(ps,fi),e(u,yi),e(u,hs),e(hs,vi),e(u,_i),e(u,ds),e(ds,bi),e(u,Ci),d(o,wa,p),d(o,G,p),e(G,Ei),e(G,Js),e(Js,mi),e(G,Ai),d(o,La,p),d(o,q,p),e(q,us),e(us,fs),e(fs,y),e(y,ki),e(y,ys),e(ys,gi),e(y,Si),e(y,vs),e(vs,wi),e(y,Li),e(y,_s),e(_s,Ni),e(y,Pi),e(y,bs),e(bs,ji),e(y,Ri),e(y,Cs),e(Cs,Ii),e(y,Ti),e(y,Es),e(Es,Fi),e(y,Gi),e(y,ms),e(ms,Oi),e(y,Bi),e(y,As),e(As,Mi),e(y,Wi),e(y,ks),e(ks,Di),e(y,Ui),e(y,gs),e(gs,xi),e(y,Vi),e(y,Ss),e(Ss,qi),e(y,zi),e(y,ws),e(ws,Yi),e(y,Xi),e(y,Ls),e(Ls,Hi),e(y,Ki),e(y,Ns),e(Ns,Zi),e(y,Ji),e(y,Ps),e(Ps,Qi),e(y,$i),e(y,js),e(js,ec),e(y,tc),e(y,Rs),e(Rs,sc),e(y,ac),e(y,Is),e(Is,lc),e(y,rc),e(y,Ts),e(Ts,nc),e(y,oc),e(y,Fs),e(Fs,ic),e(y,cc),d(o,Na,p),d(o,S,p),e(S,Qs),e(Qs,pc),e(S,hc),e(S,$s),e($s,dc),e(S,uc),e(S,ea),e(ea,fc),e(S,yc),e(S,ta),e(ta,vc),e(S,_c),d(o,Pa,p),d(o,Gs,p),e(Gs,bc),d(o,ja,p),d(o,R,p),e(R,Cc),e(R,z),e(z,Ec),e(R,mc),e(R,Y),e(Y,Ac),e(R,kc)},p:gc,i:gc,o:gc,d(o){o&&a(P),o&&a(sa),o&&a(H),o&&a(aa),o&&a(Z),o&&a(la),o&&a(J),o&&a(ra),o&&a(w),o&&a(na),o&&a(W),o&&a(oa),o&&a(N),o&&a(ia),o&&a(Ee),o&&a(ca),o&&a(me),o&&a(pa),o&&a(T),o&&a(ha),o&&a(Ae),o&&a(da),o&&a(D),o&&a(ua),o&&a(tt),o&&a(fa),o&&a(j),o&&a(ya),o&&a(L),o&&a(va),o&&a(st),o&&a(_a),o&&a(U),o&&a(ba),o&&a(mt),o&&a(Ca),o&&a(At),o&&a(Ea),o&&a(x),o&&a(ma),o&&a(Bt),o&&a(Aa),o&&a(Mt),o&&a(ka),o&&a(Wt),o&&a(ga),o&&a(F),o&&a(Sa),o&&a(V),o&&a(wa),o&&a(G),o&&a(La),o&&a(q),o&&a(Na),o&&a(S),o&&a(Pa),o&&a(Gs),o&&a(ja),o&&a(R)}}}const Xd={comments:null,date:"2009-10-12T00:00:00Z",section:"blog",tags:["objective-c"],title:"Core Animation Layered Clock"};class Hd extends xd{constructor(P){super(),Vd(this,P,null,zd,qd,{})}}export{Hd as default,Xd as metadata};
