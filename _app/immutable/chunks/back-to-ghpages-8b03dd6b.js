import{S as ys,i as gs,s as ks,k as l,q as s,a as ee,l as n,m as r,r as t,h as a,c as se,n as i,b as m,D as e,B as Fe}from"./index-57d6417f.js";function _s(ms){let u,te,E,ae,le,X,f,ne,B,re,oe,F,ie,ce,Z,b,j,P,c,A,de,he,S,pe,ue,N,fe,ve,I,me,ye,D,ge,R,ke,_e,C,Ee,be,M,we,je,x,Pe,y,Ae,O,Se,Ne,z,$,Ie,K,w,G,T,p,De,U,Re,Ce,g,Me,H,xe,Oe,$e,k,Ge,q,Te,Ue,He,_,qe,J,Je,Ve,Be;return{c(){u=l("p"),te=s("The only thing I was using GCP for was hosting this blog which is statically generated by "),E=l("a"),ae=s("Jekyll"),le=s(". As that work flow is a lot easier on Github Pages I decided to move it back there and at the same time make some improvements to my workflow."),X=ee(),f=l("p"),ne=s("There is a similar story with Ruby which I only use for running Jekyll. To make life a bit simpler and to avoid having to relearn how to get things to run everytime I want to update I decided to look into running it in Docker instead. Unfortunately the "),B=l("code"),re=s("jekyll/jekyll"),oe=s(" Docker images didn’t seem to enjoy running on an M1 Mac yet so I used the "),F=l("code"),ie=s("ruby:2.7.2"),ce=s(" image instead."),Z=ee(),b=l("div"),j=l("div"),P=l("pre"),c=l("code"),A=l("span"),de=s("# Use Ruby image instead of jekyll/jekyll for arm-64 support"),he=s(`
`),S=l("span"),pe=s("FROM"),ue=s(" ruby:"),N=l("span"),fe=s("2.7"),ve=s("."),I=l("span"),me=s("2"),ye=s(`

`),D=l("span"),ge=s("RUN"),R=l("span"),ke=s(" gem install bundler:1.17.2 jekyll:4.0 jekyll-redirect-from"),_e=s(`

`),C=l("span"),Ee=s("EXPOSE"),be=s(" "),M=l("span"),we=s("4000"),je=s(`

`),x=l("span"),Pe=s("CMD"),y=l("span"),Ae=s(" bundle "),O=l("span"),Se=s("exec"),Ne=s(" jekyll serve -H 0.0.0.0"),z=ee(),$=l("p"),Ie=s("And to preview the site, I run it with:"),K=ee(),w=l("div"),G=l("div"),T=l("pre"),p=l("code"),De=s("docker container run --"),U=l("span"),Re=s("rm"),Ce=s(` -p 4000:4000 -p 35729:35729 -it                     \\
                     -v `),g=l("span"),Me=s('"'),H=l("span"),xe=s("$(pwd)"),Oe=s('"'),$e=s(":"),k=l("span"),Ge=s('"'),q=l("span"),Te=s("$(pwd)"),Ue=s('"'),He=s(" -w "),_=l("span"),qe=s('"'),J=l("span"),Je=s("$(pwd)"),Ve=s('"'),Be=s(` $(docker build -q .)    \\
                     jekyll serve -H 0.0.0.0 --livereload`),this.h()},l(o){u=n(o,"P",{});var h=r(u);te=t(h,"The only thing I was using GCP for was hosting this blog which is statically generated by "),E=n(h,"A",{href:!0,rel:!0});var Xe=r(E);ae=t(Xe,"Jekyll"),Xe.forEach(a),le=t(h,". As that work flow is a lot easier on Github Pages I decided to move it back there and at the same time make some improvements to my workflow."),h.forEach(a),X=se(o),f=n(o,"P",{});var V=r(f);ne=t(V,"There is a similar story with Ruby which I only use for running Jekyll. To make life a bit simpler and to avoid having to relearn how to get things to run everytime I want to update I decided to look into running it in Docker instead. Unfortunately the "),B=n(V,"CODE",{});var Ze=r(B);re=t(Ze,"jekyll/jekyll"),Ze.forEach(a),oe=t(V," Docker images didn’t seem to enjoy running on an M1 Mac yet so I used the "),F=n(V,"CODE",{});var ze=r(F);ie=t(ze,"ruby:2.7.2"),ze.forEach(a),ce=t(V," image instead."),V.forEach(a),Z=se(o),b=n(o,"DIV",{class:!0});var Ke=r(b);j=n(Ke,"DIV",{class:!0});var Le=r(j);P=n(Le,"PRE",{class:!0});var Qe=r(P);c=n(Qe,"CODE",{});var d=r(c);A=n(d,"SPAN",{class:!0});var We=r(A);de=t(We,"# Use Ruby image instead of jekyll/jekyll for arm-64 support"),We.forEach(a),he=t(d,`
`),S=n(d,"SPAN",{class:!0});var Ye=r(S);pe=t(Ye,"FROM"),Ye.forEach(a),ue=t(d," ruby:"),N=n(d,"SPAN",{class:!0});var es=r(N);fe=t(es,"2.7"),es.forEach(a),ve=t(d,"."),I=n(d,"SPAN",{class:!0});var ss=r(I);me=t(ss,"2"),ss.forEach(a),ye=t(d,`

`),D=n(d,"SPAN",{class:!0});var ts=r(D);ge=t(ts,"RUN"),ts.forEach(a),R=n(d,"SPAN",{class:!0});var as=r(R);ke=t(as," gem install bundler:1.17.2 jekyll:4.0 jekyll-redirect-from"),as.forEach(a),_e=t(d,`

`),C=n(d,"SPAN",{class:!0});var ls=r(C);Ee=t(ls,"EXPOSE"),ls.forEach(a),be=t(d," "),M=n(d,"SPAN",{class:!0});var ns=r(M);we=t(ns,"4000"),ns.forEach(a),je=t(d,`

`),x=n(d,"SPAN",{class:!0});var rs=r(x);Pe=t(rs,"CMD"),rs.forEach(a),y=n(d,"SPAN",{class:!0});var L=r(y);Ae=t(L," bundle "),O=n(L,"SPAN",{class:!0});var os=r(O);Se=t(os,"exec"),os.forEach(a),Ne=t(L," jekyll serve -H 0.0.0.0"),L.forEach(a),d.forEach(a),Qe.forEach(a),Le.forEach(a),Ke.forEach(a),z=se(o),$=n(o,"P",{});var is=r($);Ie=t(is,"And to preview the site, I run it with:"),is.forEach(a),K=se(o),w=n(o,"DIV",{class:!0});var cs=r(w);G=n(cs,"DIV",{class:!0});var ds=r(G);T=n(ds,"PRE",{class:!0});var hs=r(T);p=n(hs,"CODE",{});var v=r(p);De=t(v,"docker container run --"),U=n(v,"SPAN",{class:!0});var ps=r(U);Re=t(ps,"rm"),ps.forEach(a),Ce=t(v,` -p 4000:4000 -p 35729:35729 -it                     \\
                     -v `),g=n(v,"SPAN",{class:!0});var Q=r(g);Me=t(Q,'"'),H=n(Q,"SPAN",{class:!0});var us=r(H);xe=t(us,"$(pwd)"),us.forEach(a),Oe=t(Q,'"'),Q.forEach(a),$e=t(v,":"),k=n(v,"SPAN",{class:!0});var W=r(k);Ge=t(W,'"'),q=n(W,"SPAN",{class:!0});var fs=r(q);Te=t(fs,"$(pwd)"),fs.forEach(a),Ue=t(W,'"'),W.forEach(a),He=t(v," -w "),_=n(v,"SPAN",{class:!0});var Y=r(_);qe=t(Y,'"'),J=n(Y,"SPAN",{class:!0});var vs=r(J);Je=t(vs,"$(pwd)"),vs.forEach(a),Ve=t(Y,'"'),Y.forEach(a),Be=t(v,` $(docker build -q .)    \\
                     jekyll serve -H 0.0.0.0 --livereload`),v.forEach(a),hs.forEach(a),ds.forEach(a),cs.forEach(a),this.h()},h(){i(E,"href","https://jekyllrb.com"),i(E,"rel","nofollow"),i(A,"class","hljs-comment"),i(S,"class","hljs-keyword"),i(N,"class","hljs-number"),i(I,"class","hljs-number"),i(D,"class","hljs-keyword"),i(R,"class","language-bash"),i(C,"class","hljs-keyword"),i(M,"class","hljs-number"),i(x,"class","hljs-keyword"),i(O,"class","hljs-built_in"),i(y,"class","language-bash"),i(P,"class","highlight"),i(j,"class","highlight"),i(b,"class","highlighter-rouge language-Dockerfile"),i(U,"class","hljs-built_in"),i(H,"class","hljs-subst"),i(g,"class","hljs-string"),i(q,"class","hljs-subst"),i(k,"class","hljs-string"),i(J,"class","hljs-subst"),i(_,"class","hljs-string"),i(T,"class","highlight"),i(G,"class","highlight"),i(w,"class","highlighter-rouge language-bash")},m(o,h){m(o,u,h),e(u,te),e(u,E),e(E,ae),e(u,le),m(o,X,h),m(o,f,h),e(f,ne),e(f,B),e(B,re),e(f,oe),e(f,F),e(F,ie),e(f,ce),m(o,Z,h),m(o,b,h),e(b,j),e(j,P),e(P,c),e(c,A),e(A,de),e(c,he),e(c,S),e(S,pe),e(c,ue),e(c,N),e(N,fe),e(c,ve),e(c,I),e(I,me),e(c,ye),e(c,D),e(D,ge),e(c,R),e(R,ke),e(c,_e),e(c,C),e(C,Ee),e(c,be),e(c,M),e(M,we),e(c,je),e(c,x),e(x,Pe),e(c,y),e(y,Ae),e(y,O),e(O,Se),e(y,Ne),m(o,z,h),m(o,$,h),e($,Ie),m(o,K,h),m(o,w,h),e(w,G),e(G,T),e(T,p),e(p,De),e(p,U),e(U,Re),e(p,Ce),e(p,g),e(g,Me),e(g,H),e(H,xe),e(g,Oe),e(p,$e),e(p,k),e(k,Ge),e(k,q),e(q,Te),e(k,Ue),e(p,He),e(p,_),e(_,qe),e(_,J),e(J,Je),e(_,Ve),e(p,Be)},p:Fe,i:Fe,o:Fe,d(o){o&&a(u),o&&a(X),o&&a(f),o&&a(Z),o&&a(b),o&&a(z),o&&a($),o&&a(K),o&&a(w)}}}const bs={date:"2021-02-21T00:00:00.000Z",section:"blog",title:"Back to GH Pages",excerpt:"Moved my blog back to Github Pages after a few years of running it from Google Platform."};class ws extends ys{constructor(u){super(),gs(this,u,null,_s,ks,{})}}export{ws as default,bs as metadata};
