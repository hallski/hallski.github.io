<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout-49e432a2.css" rel="stylesheet"><!-- HEAD_svelte-oin7dn_START --><link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed"><link rel="stylesheet" href="/css/style.css" type="text/css"><!-- HEAD_svelte-oin7dn_END -->
	</head>
	<body>
		<div id="svelte">




<header><nav class="navbar svelte-d1vz7p"><a class="nav-link svelte-d1vz7p" href="/">Home</a>
		<ul class="svelte-d1vz7p">
			<li class="svelte-d1vz7p"><a href="/blog" class="nav-link svelte-d1vz7p">Articles</a></li>
			
			<li class="svelte-d1vz7p"><a href="/about" class="nav-link svelte-d1vz7p">About</a></li></ul></nav>
</header>

<main class="main"><div class="content"><article class="post"><header><h1>Cocoa Prototyping with Webview</h1>
		<span class="post-date">May 05, 2009</span></header>
	<p>While Interface Builder makes it really easy to quickly put together and test the overall design of your user interface it doesn’t help much when it comes to its overall flow. In any non-trivial application you are likely to have some custom views or view switching.</p>
<p>For example, say that you want to try out whether it makes sense to use a source list in order to navigate the application and have your content view switch based on what you select in it.</p>
<p>Wouldn’t it be great if you could try this without having to implement all the code necessary to display and navigate the source list and other views. Using HTML for prototyping can be a powerful, quick and easy solution that is easily available to Cocoa developers.</p>
<p>In order to make it even easier I created a <code>WebView</code> subclass called <code>PrototypeView</code> that displays a piece of HTML and sends a message to its <em>delegate</em> when the user clicks a link.</p>
<p>To give an idea of what it does, take a look at the following screenshot showing a basic prototype UI consisting of two suchs views embedded in a split view.</p>
<p><img src="/images/posts/html-prototype-ui.png" alt="Prototyped UI, using PrototypeView"></p>
<p>Using the PrototypeView is easy.</p>
<h2>Step 1: Mock up the UI in Interface Builder</h2>
<p>Using Interface Builder, create the UI you want and put custom views where you want to prototype using the <code>PrototypeView</code>.</p>
<p><img src="/images/posts/html-prototype-ib.png" alt="Setting class to PrototypeView"></p>
<p>I used a class called <code>AppController</code> with two outlets to the prototype views by creating an <code>NSObject</code> subclass and set it up in Interface Builder by dragging an <code>NSObject</code> from the library and setting the class to <code>AppController</code> like above.</p>
<h2>Step 2: Hooking the view up in the AppController</h2>
<p>Back in XCode I create a subclass of NSObject called AppController and setup the two prototype views in its <code>awakeFromNib</code> by using the two method calls <code>setPrototypeDelegate</code> and <code>loadBundleFile</code>. In my example I used two prototype views called <code>sidebarView</code> and <code>contentView</code> and will use the AppController as my delegate.</p>
<div class="highlighter-rouge language-objc"><div class="highlight"><pre class="highlight"><code>- (<span class="hljs-type">void</span>)awakeFromNib
{
    [sideBarView setPrototypeDelegate:<span class="hljs-keyword">self</span>];
    [sideBarView loadBundleFile:<span class="hljs-string">@&quot;sidebar&quot;</span>];

    [contentView setPrototypeDelegate:<span class="hljs-keyword">self</span>];
    [contentView loadBundleFile:<span class="hljs-string">@&quot;content1&quot;</span>];
}</code></pre></div></div>
<h2>Step 3: Prototype in HTML</h2>
<p>Starting the application at this point will cause it to load the files <em>sidebar.html</em> and <em>content1.html</em> and display them. Now that the files are being loaded you can implement the prototyped UI portions in the HTML files. Here is the content of <em>sidebar.html</em>:</p>
<div class="highlighter-rouge language-objc"><div class="highlight"><pre class="highlight"><code>&lt;html&gt;
  &lt;head&gt;
    &lt;link rel=<span class="hljs-string">&quot;stylesheet&quot;</span> href=<span class="hljs-string">&quot;sidebar.css&quot;</span> type=<span class="hljs-string">&quot;text/css&quot;</span> /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;p <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;LIBRARY&lt;/p&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=<span class="hljs-string">&quot;method:showViewOne&quot;</span>&gt;Initial View&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=<span class="hljs-string">&quot;method:showViewTwo&quot;</span>&gt;Second View&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div></div>
<h2>Step 4: Adding the methods in AppController</h2>
<p>Notice the special links to <code>method:showViewOne</code>, clicking this will make the <code>PrototypeView</code> look if its delegate responds to <code>showViewOne</code> and send the message to it if it does.</p>
<div class="highlighter-rouge language-objc"><div class="highlight"><pre class="highlight"><code>- (<span class="hljs-type">void</span>)showViewOne
{
    [contentView loadBundleFile:<span class="hljs-string">@&quot;content1&quot;</span>];
}

- (<span class="hljs-type">void</span>)showViewTwo
{
    [contentView loadBundleFile:<span class="hljs-string">@&quot;content2&quot;</span>];
}</code></pre></div></div>
<p>That’s it, happy prototyping!</p>
<p>For a closer look you can see the <a href="http://gist.github.com/106856" rel="nofollow">PrototypeView source code</a>.</p>
<p>I’d love any feedback on how to improve this and possibly even supporting using JavaScript to communicate both ways with the HTML view in order to let the application update the views dynamically.</p></article></div></main>

<footer class="site-footer svelte-1h9y0mo"><div class="author svelte-1h9y0mo"><img class="author-photo svelte-1h9y0mo" src="/images/hallski.jpg" width="192" height="192" alt="Author">
		<div><p class="author-name svelte-1h9y0mo">Mikael Hallendal</p>
			<p class="author-info svelte-1h9y0mo">Developer who loves to learn new things.</p>
			<p class="author-interests svelte-1h9y0mo">Current focus: <span class="interest svelte-1h9y0mo">React</span>,
				<span class="interest svelte-1h9y0mo">Javascript/Typescript</span> and
				<span class="interest svelte-1h9y0mo">Elixir</span></p>
			<nav class="find-me svelte-1h9y0mo"><a href="http://github.com/hallski/" class="svelte-1h9y0mo">Github</a>
				<a href="http://www.linkedin.com/in/mhallendal" class="svelte-1h9y0mo">LinkedIn</a></nav></div></div>
</footer>

</div>
	</body>
</html>
