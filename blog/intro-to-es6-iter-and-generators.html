<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout-49e432a2.css" rel="stylesheet"><title>Hallski: Introduction to ES6 Iterators and Generators</title><!-- HEAD_svelte-1q3t53y_START --><link rel="alternate" type="application/atom+xml" href="https://hallski.org/atom.xml"><link rel="alternate" type="application/rss+xml" href="https://hallski.org/feed/rss"><link rel="alternate" type="application/json" href="https://hallski.org/feed/json"><link rel="stylesheet" href="/css/style.css" type="text/css"><!-- HEAD_svelte-1q3t53y_END --><!-- HEAD_svelte-4z5wxp_START --><!-- HEAD_svelte-4z5wxp_END -->
	</head>
	<body>
		<div id="svelte">




<header><nav class="navbar svelte-d1vz7p"><a class="nav-link svelte-d1vz7p" href="/">Home</a>
		<ul class="svelte-d1vz7p">
			<li class="svelte-d1vz7p"><a href="/blog" class="nav-link svelte-d1vz7p">Articles</a></li>
			
			<li class="svelte-d1vz7p"><a href="/about" class="nav-link svelte-d1vz7p">About</a></li></ul></nav>
</header>

<main class="main"><div class="content">

<article class="post"><header><h1>Introduction to ES6 Iterators and Generators</h1>
		<span class="post-date">November 13, 2017</span></header>
	<h2>Javascript Generator Series</h2>
<p>This article is part of a series of articles about ES6 generators. The plan is to explore iterators and generators, starting with what they are and show casing different situations where they can be useful.</p>
<ol><li>Introduction to ES6 Iterators and Generators</li>
<li><a href="/blog/working-with-generators">Working with Generators</a></li>
<li><a href="/blog/async-await-with-generators">Async/Await with Generators</a></li></ol>
<h2>Iterator basics</h2>
<p>Iterators in Javascript are objects that implement <code>next()</code> which returns an object with two properties, <code>done</code> and <code>value</code>.</p>
<div class="highlighter-rouge language-javascript"><div class="highlight"><pre class="highlight"><code><span class="hljs-comment">// Simple Iterator</span>
{
	<span class="hljs-attr">next</span>: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">1</span> })
}</code></pre></div></div>
<p>An <em>Iterable</em> is an object that can be iterated over, the informal protocol for an Iterable is an object that defines the <code>Symbol.iterable</code> method which returns an iterator.</p>
<div class="highlighter-rouge language-javascript"><div class="highlight"><pre class="highlight"><code><span class="hljs-comment">// Simple Iterable</span>
{
  [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">next</span>: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">1</span> })})
}</code></pre></div></div>
<p>These aren’t very useful since all they do is return an infinite stream of the number <code>1</code> when iterated over.</p>
<p>By conforming to the <em>Iterable</em> protocol an object can be used in the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" rel="nofollow"><code>for...of</code></a> construct.</p>
<h2>Generator Basics</h2>
<p>So, what do <em>Iterator</em> and <em>Iterable</em> have to do with <em>Generators</em>? Turns out, a lot, since Generators conform to both <em>Iterable</em> and <em>Iterator</em>.</p>
<p>In short, generators are <a href="https://en.wikipedia.org/wiki/Coroutine" rel="nofollow">coroutines</a>. Here is the short description from MDN:</p>
<blockquote><p>Generators are functions which can be exited and later re-entered. Their context (variable bindings) will be saved across re-entrances.</p></blockquote>
<p>When the generator is iterated over, through <code>next()</code>, it executes to the first <code>yield</code> statement. There it will save it’s state and return the value passed to yield. The next time <code>next()</code> is called, the state will be restored and the code will continue executing where it left of. This will continue until the end of the function (or <code>return</code>) where the final value will be returned and the iterator marked as <code>done</code>.</p>
<p>A function is declared a generator by adding an <code>*</code> after the keyword <code>function</code>.</p>
<div class="highlighter-rouge language-javascript"><div class="highlight"><pre class="highlight"><code><span class="hljs-keyword">function</span>* <span class="hljs-title function_">aGenerator</span>(<span class="hljs-params"></span>) {
	<span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>
	<span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>
	<span class="hljs-keyword">yield</span> <span class="hljs-number">3</span>
	<span class="hljs-keyword">return</span> <span class="hljs-number">4</span>
}

<span class="hljs-keyword">const</span> gen = <span class="hljs-title function_">aGenerator</span>()
gen.<span class="hljs-title function_">next</span>() <span class="hljs-comment">// { value: 1, done: false }</span>
gen.<span class="hljs-title function_">next</span>() <span class="hljs-comment">// { value: 2, done: false }</span>
gen.<span class="hljs-title function_">next</span>() <span class="hljs-comment">// { value: 3, done: false }</span>
gen.<span class="hljs-title function_">next</span>() <span class="hljs-comment">// { value: 4, done: true }</span></code></pre></div></div>
<p>See MDN for more in-depth information about <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*" rel="nofollow">generator functions</a>.</p>
<h2>Why are generators interesting</h2>
<p>In the next couple of articles, we’ll have a look on various use cases for generators. Starting with infinite generators that generate an infinite stream of values and show how they can be useful in the context of a finite iteration.</p>
<p>In the later articles, we’ll look at more advanced use cases, where we pass values into the generator and even use them for synchronization when doing concurrent programming.</p></article></div></main>

<footer class="site-footer svelte-1h9y0mo"><div class="author svelte-1h9y0mo"><img class="author-photo svelte-1h9y0mo" src="/images/hallski.jpg" width="192" height="192" alt="Author">
		<div><p class="author-name svelte-1h9y0mo">Mikael Hallendal</p>
			<p class="author-info svelte-1h9y0mo">Developer who loves to learn new things.</p>
			<p class="author-interests svelte-1h9y0mo">Current focus: <span class="interest svelte-1h9y0mo">React</span>,
				<span class="interest svelte-1h9y0mo">Javascript/Typescript</span> and
				<span class="interest svelte-1h9y0mo">Elixir</span></p>
			<nav class="find-me svelte-1h9y0mo"><a href="http://github.com/hallski/" class="svelte-1h9y0mo">Github</a>
				<a href="http://www.linkedin.com/in/mhallendal" class="svelte-1h9y0mo">LinkedIn</a></nav></div></div>
</footer>

</div>
	</body>
</html>
